{"version":3,"file":"js/164.0bf01321.js","mappings":"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","sources":["webpack://firebase-login/./src/views/LoginView.vue?5e29","webpack://firebase-login/./src/views/LoginView.vue?8ec8","webpack://firebase-login/./src/views/LoginView.vue?757f","webpack://firebase-login/./src/views/LoginView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',[_c('div',{attrs:{\"id\":\"loginpanel\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.u_email),expression:\"u_email\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter your email\"},domProps:{\"value\":(_vm.u_email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.u_email=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.u_pass),expression:\"u_pass\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Enter your password\"},domProps:{\"value\":(_vm.u_pass)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.u_pass=$event.target.value}}}),_c('div',{attrs:{\"id\":\"loginByEmail\"}},[_c('button',{attrs:{\"disabled\":!_vm.isValidInput},on:{\"click\":_vm.createAccount}},[_vm._v(\" Signup \")]),_c('button',{attrs:{\"disabled\":_vm.u_email.length === 0},on:{\"click\":_vm.resetPass}},[_vm._v(\" Reset Password \")]),_c('button',{attrs:{\"disabled\":!_vm.isValidInput},on:{\"click\":_vm.withEmail}},[_vm._v(\"Login\")])]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.emailVerification),expression:\"emailVerification\"}],attrs:{\"id\":\"verif\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.emailVerification)?_vm._i(_vm.emailVerification,null)>-1:(_vm.emailVerification)},on:{\"change\":function($event){var $$a=_vm.emailVerification,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.emailVerification=$$a.concat([$$v]))}else{$$i>-1&&(_vm.emailVerification=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.emailVerification=$$c}}}}),_c('label',{attrs:{\"for\":\"verif\"}},[_vm._v(\"Send verification email\")])]),_c('div',{attrs:{\"id\":\"withProvider\"}},[_c('button',{on:{\"click\":_vm.withGMail}},[_vm._v(\"Google\")]),_c('button',{on:{\"click\":_vm.withGitHub}},[_vm._v(\"GitHub\")])])])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message.length > 0),expression:\"message.length > 0\"}],attrs:{\"id\":\"msgbox\"}},[_vm._v(_vm._s(_vm.message))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport {\n  getAuth,\n  Auth,\n  GoogleAuthProvider,\n  signInWithPopup,\n  UserCredential,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  GithubAuthProvider,\n  sendEmailVerification,\n  signOut,\n  signInWithRedirect,\n  sendPasswordResetEmail,\n} from \"firebase/auth\";\n\n@Component\nexport default class LoginView extends Vue {\n  u_email = \"\";\n  u_pass = \"\";\n  message = \"\";\n  auth: Auth | null = null;\n  emailVerification = false;\n\n  get isValidInput(): boolean {\n    return this.u_email.length > 0 && this.u_pass.length > 0;\n  }\n\n  mounted(): void {\n    this.auth = getAuth();\n  }\n\n  showMessage(txt: string) {\n    this.message = txt;\n\n    // The message will automatically disappear after 5 seconds\n    setTimeout(() => {\n      this.message = \"\";\n    }, 5000);\n  }\n\n  createAccount(): void {\n    createUserWithEmailAndPassword(this.auth!, this.u_email, this.u_pass)\n      .then(async (cr: UserCredential) => {\n        if (this.emailVerification) {\n          await sendEmailVerification(cr.user);\n          await signOut(this.auth!);\n          this.showMessage(\n            \"An email verification has been sent to \" + cr.user.email\n          );\n        } else this.showMessage(`New account created with UID ${cr.user.uid}`);\n      })\n      .catch((err: any) => {\n        this.showMessage(`Unable to create account ${err}`);\n      });\n  }\n\n  resetPass(): void {\n    sendPasswordResetEmail(this.auth!, this.u_email)\n      .then(() => {\n        this.showMessage(\n          `A password reset link has been sent to ${this.u_email}`\n        );\n      })\n      .catch((err: any) => {\n        this.showMessage(`Unable to reset password ${err}`);\n      });\n  }\n  withEmail(): void {\n    signInWithEmailAndPassword(this.auth!, this.u_email, this.u_pass)\n      .then(async (cr: UserCredential) => {\n        if (cr.user.emailVerified)\n          this.$router.push({ name: \"about\", params: { byWayOf: \"Email\" } });\n        else {\n          this.showMessage(\"You must first verify your email\");\n          await signOut(this.auth!);\n        }\n      })\n      .catch((err: any) => {\n        this.showMessage(`Unable to login ${err}`);\n      });\n  }\n\n  withGMail(): void {\n    const provider = new GoogleAuthProvider();\n    signInWithPopup(this.auth!, provider)\n      .then((cred: UserCredential) => {\n        console.log(\"Yes, logged in\");\n\n        // Move to the home page\n        this.$router.push({ name: \"about\", params: { byWayOf: \"Google\" } });\n      })\n      .catch((err: any) => {\n        this.showMessage(`Unable to login with GMail ${err}`);\n      });\n  }\n\n  withGitHub(): void {\n    const provider = new GithubAuthProvider();\n    // provider.addScope(\"repo\");\n    // provider.setCustomParameters({\n    //   allow_signup: \"false\",\n    // });\n    signInWithPopup(this.auth!, provider)\n      .then((cred: UserCredential) => {\n        console.log(\"Yes, logged in with GitHub\");\n\n        // Move to the home page\n        this.$router.push({ name: \"about\", params: { byWayOf: \"GitHub\" } });\n      })\n      .catch((err: any) => {\n        this.showMessage(`Unable to login with GitHub ${err}`);\n      });\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=7cf7f23a&scoped=true&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=7cf7f23a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cf7f23a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","u_email","u_pass","isValidInput","createAccount","_v","length","resetPass","withEmail","Array","isArray","emailVerification","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","withGMail","withGitHub","message","_s","staticRenderFns","LoginView","Vue","mounted","auth","getAuth","showMessage","txt","setTimeout","createUserWithEmailAndPassword","then","async","sendEmailVerification","cr","user","signOut","email","uid","catch","err","sendPasswordResetEmail","signInWithEmailAndPassword","emailVerified","$router","push","params","byWayOf","provider","GoogleAuthProvider","signInWithPopup","cred","console","log","GithubAuthProvider","Component","component"],"sourceRoot":""}